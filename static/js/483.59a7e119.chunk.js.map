{"version":3,"file":"static/js/483.59a7e119.chunk.js","mappings":"8PACA,EAAuB,uB,SCgBvB,MAbA,YAAmC,IAAhBA,EAAe,EAAfA,SAAUC,EAAK,EAALA,GACzB,OACI,+BACI,SAAC,KAAD,CAAOC,UAAWC,EAAUF,GAAIA,EAAhC,SAAsCD,KAGjD,ECTD,EAAwB,yBAAxB,EAA6D,6BAA7D,EAAqG,4BAArG,EAAyI,yBAAzI,EAAyK,wBAAzK,EAAwM,wBC4FxM,MAtFA,WAAsB,IAAD,IACnB,EAA0BI,EAAAA,SAAe,IAAzC,eAAOC,EAAP,KAAcC,EAAd,KACA,EAA0BF,EAAAA,SAAe,IAAzC,eAAOG,EAAP,KAAcC,EAAd,KACA,EAAwBJ,EAAAA,SAAe,IAAvC,eAAOK,EAAP,KAAaC,EAAb,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQ,oBAAGF,EAASG,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAGnCC,GADSC,EAAAA,EAAAA,MACGC,QAClBC,QAAQC,IAAIJ,GAEZZ,EAAAA,WAAgB,WAAM,wCACpB,mHAE2BiB,EAAAA,EAAAA,IAAA,6CACiBL,GACtC,CACEM,OAAQ,CACNC,QAAS,sCANnB,OAEUC,EAFV,OAUUnB,EAAQmB,EAASC,KACjBlB,EAAQiB,EAASC,KAAKC,OACtBjB,EAAOe,EAASC,KAAKE,aAC3BrB,EAASD,GACTG,EAASD,GACTG,EAAQD,GAfZ,kDAiBIU,QAAQS,MAAR,MAjBJ,2DADoB,uBAAC,WAAD,wBAqBpBC,EACD,GAAE,CAACb,IAEJG,QAAQC,IAAIT,GACZ,IAAMmB,EAAOrB,EAAKsB,UAAU,EAAG,GAC/B,OACE,iCACE,SAAC,EAAD,CAAU9B,GAAIY,EAAd,sBACA,iBAAKX,UAAWC,EAAhB,WACE,gBACE6B,IAAG,6CAAwC3B,EAAM4B,aACjDC,IAAI,GACJC,MAAO,IACPjC,UAAWC,KAEb,iBAAKD,UAAWC,EAAhB,WACE,0BACGE,EAAM+B,MADT,KACkBN,EADlB,QAGA,eAAG5B,UAAWC,EAAd,WACE,iBAAMD,UAAWC,EAAjB,wBACA,kBAFF,IAEUE,EAAMgC,aAEhB,wBACE,iBAAMnC,UAAWC,EAAjB,uBAEDI,EAAM+B,KAAI,SAAAC,GACT,OAAO,uBAAkBA,EAAKC,MAAfD,EAAKvB,GACrB,WAGL,yBACE,yBACE,SAAC,KAAD,CAAMd,UAAWC,EAAUF,GAAG,OAA9B,uBAKJ,yBACE,yBACE,SAAC,KAAD,CAAMC,UAAWC,EAAUF,GAAG,UAA9B,0BAKJ,SAAC,EAAAwC,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["webpack://react-homework-template/./src/css/BackLink.module.css?b7b4","components/BackLink.jsx","webpack://react-homework-template/./src/css/MoviePage.module.css?ae21","pages/MoviePage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Link\":\"BackLink_Link__f0OY6\"};","import { Link } from \"react-router-dom\";\nimport css from '../css/BackLink.module.css';\nimport PropTypes from 'prop-types';\n\nfunction BackLink({children, to}) {\n    return (\n        <>\n            <Link  className={css.Link} to={to}>{ children }</Link>\n        </>\n    )\n}\n\nBackLink.propTypes = {\n    children: PropTypes.string.isRequired,\n    to: PropTypes.string.isRequired\n}\n\nexport default BackLink;","// extracted by mini-css-extract-plugin\nexport default {\"Image\":\"MoviePage_Image__5NCih\",\"Container\":\"MoviePage_Container__QUoiI\",\"ContInfo\":\"MoviePage_ContInfo__N4jst\",\"Descr\":\"MoviePage_Descr__8tPjP\",\"Text\":\"MoviePage_Text__ZrXQ+\",\"Link\":\"MoviePage_Link__h+XMh\"};","import React from 'react';\nimport axios from 'axios';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport BackLink from 'components/BackLink';\nimport css from '../css/MoviePage.module.css';\nimport { Suspense } from 'react';\n\nfunction MoviePage() {\n  const [movie, setMovie] = React.useState([]);\n  const [genre, setGenre] = React.useState([]);\n  const [date, setDate] = React.useState('');\n\n  const location = useLocation();\n\n  const backLink = location.state?.from ?? '/';\n\n  const idResp = useParams();\n  const id = idResp.movieId;\n  console.log(id);\n\n  React.useEffect(() => {\n    async function getMovies() {\n      try {\n        const response = await axios.get(\n          `https://api.themoviedb.org/3/movie/${id}`,\n          {\n            params: {\n              api_key: '5d366bada9007998a52c381f067bc493',\n            },\n          }\n        );\n        const movie = response.data;\n        const genre = response.data.genres;\n        const date = response.data.release_date;\n        setMovie(movie);\n        setGenre(genre);\n        setDate(date);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    getMovies();\n  }, [id]);\n\n  console.log(location);\n  const year = date.substring(0, 4);\n  return (\n    <>\n      <BackLink to={backLink}>go back</BackLink>\n      <div className={css.Container}>\n        <img\n          src={`https://image.tmdb.org/t/p/original${movie.poster_path}`}\n          alt=\"\"\n          width={200}\n          className={css.Image}\n        />\n        <div className={css.ContInfo}>\n          <h2>\n            {movie.title} ({year})\n          </h2>\n          <p className={css.Text}>\n            <span className={css.Descr}>Overview:</span>\n            <br /> {movie.overview}\n          </p>\n          <p>\n            <span className={css.Descr}>Genres:</span>\n          </p>\n          {genre.map(genr => {\n            return <p key={genr.id}>{genr.name}</p>;\n          })}\n        </div>\n      </div>\n      <ul>\n        <li>\n          <Link className={css.Link} to=\"cast\">\n            Cast\n          </Link>\n        </li>\n      </ul>\n      <ul>\n        <li>\n          <Link className={css.Link} to=\"revievs\">\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>...Loading</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n}\n\nexport default MoviePage;\n"],"names":["children","to","className","css","React","movie","setMovie","genre","setGenre","date","setDate","location","useLocation","backLink","state","from","id","useParams","movieId","console","log","axios","params","api_key","response","data","genres","release_date","error","getMovies","year","substring","src","poster_path","alt","width","title","overview","map","genr","name","Suspense","fallback"],"sourceRoot":""}