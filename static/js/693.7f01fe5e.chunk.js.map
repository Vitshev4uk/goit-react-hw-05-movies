{"version":3,"file":"static/js/693.7f01fe5e.chunk.js","mappings":"uQACA,EAA4B,0BAA5B,EAAmE,2BAAnE,EAAsG,sB,SC+JtG,MAhFA,WAAmB,IAAD,EAChB,GAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MAGXC,EAAK,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,GAP3B,wCA0BhB,WAAyBD,GAAzB,gGAE2BE,EAAAA,EAAAA,IAAA,0DAC8BF,GACnD,CACEG,OAAQ,CACNC,QAAS,sCANnB,cAEUC,EAFV,yBAUWA,EAASC,MAVpB,gCAYIC,QAAQC,MAAR,MAZJ,yDA1BgB,wBAkDhB,OARAC,EAAAA,EAAAA,YAAU,WACJT,GA3CU,2CA4CZU,CAAUV,GAAOW,MAAK,SAAAC,GACpBpB,GAAS,OAAIoB,EAAKC,SACnB,GAEJ,GAAE,CAACb,KAGF,iCACE,kBAAMc,SArCW,SAAAC,GACnBA,EAAMC,iBAEoB,KAAtBvB,EAAWwB,QAIfpB,EAA+B,KAAfJ,EAAoB,CAAEO,MAAOP,GAAe,CAAC,GAC7Dc,QAAQW,IAAI,eAAgBtB,IAJ1BuB,MAAM,iCAKT,EA4BG,WACE,kBACEC,KAAK,OACLC,MAAO5B,EACP6B,SA/CkB,SAAAP,GACxB,IAAQM,EAAUN,EAAMQ,cAAhBF,MACR3B,EAAc2B,GACdd,QAAQW,IAAI,aAAcG,EAC3B,EA4COG,UAAWC,KAEb,mBAAQL,KAAK,SAAb,wBAGF,gBAAKI,UAAWC,EAAhB,SACGlC,EAAMmC,KAAI,SAAAC,GACT,OACE,SAAC,KAAD,CAEEC,GAAE,UAAKD,EAAKE,IACZC,MAAO,CAAEC,KAAMjC,GACf0B,UAAWC,EAJb,SAMGE,EAAKK,OALDL,EAAKE,GAQf,QAIR,C","sources":["webpack://react-homework-template/./src/css/Movies.module.css?cd2f","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Container\":\"Movies_Container__NjN1W\",\"MoviesLink\":\"Movies_MoviesLink__CTkk-\",\"Input\":\"Movies_Input__2N-Re\"};","// import React from 'react';\n// import axios from 'axios';\n// import { useSearchParams, Link, useLocation } from 'react-router-dom';\n// // import BackLink from 'components/BackLink';\n// import css from '../css/Movies.module.css';\n\n// function Movies() {\n//   const [movie, setMovie] = React.useState([]);\n//   const [searchParams, setSearchParams] = useSearchParams();\n//   const location = useLocation();\n//   console.log(location);\n//   // const backLinkHref = location.state?.from ?? \"/\";\n\n//   const inputValue = searchParams.get('value');\n\n\n//   async function getMovies() {\n//     try {\n//       const response = await axios.get(\n//         `https://api.themoviedb.org/3/search/movie?query=${inputValue}`,\n//         {\n//           params: {\n//             api_key: '5d366bada9007998a52c381f067bc493',\n//           },\n//         }\n//       );\n//       const filteredMovie = response.data.results;\n//       console.log(response.data.results);\n//       setMovie(filteredMovie);\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   } \n//   // if (location.state === true) {\n//   //   getMovies(inputValue);\n//   // }\n\n//   React.useEffect(() => {\n  \n//         getMovies(inputValue);\n\n  \n//   }, [inputValue]);\n\n//   const updateInputValue = e => {\n//     if (e.target.value === '') {\n//       return setSearchParams({});\n//     }\n//     setSearchParams({ value: e.target.value });\n//   };\n\n\n//   return (\n//     <>\n//       {/* <div><BackLink onClick={getMovies}>back to homepage</BackLink></div> */}\n//       <input type=\"text\" onChange={updateInputValue} className={ css.Input} />\n//       <button type=\"submit\" onClick={getMovies}>\n//         search\n//       </button>\n\n//       <div className={css.Container}>\n//         {movie.map(item => {\n//             return (\n//                 <Link key={item.id} to={`${item.id}`} state={{from: location}} className={css.MoviesLink}>  {item.title}</Link>\n//           );\n//         })}\n//       </div>\n//     </>\n//   );\n// }\n\n// export default Movies;\n\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport css from '../css/Movies.module.css';\n\n\nfunction Movies() {\n  const [movie, setMovie] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n\n  const query = searchParams.get('query') ?? '';\n\n  const handleInputChange = event => {\n    const { value } = event.currentTarget;\n    setInputValue(value);\n    console.log('inputvalue', value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (inputValue.trim() === '') {\n      alert('Search query can not be empty.');\n      return;\n    }\n    setSearchParams(inputValue !== '' ? { query: inputValue } : {});\n    console.log('searchParams', searchParams);\n  };\n\n  async function getMovies(query) {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${query}`,\n        {\n          params: {\n            api_key: '5d366bada9007998a52c381f067bc493',\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  useEffect(() => {\n    if (query) {\n      getMovies(query).then(resp => {\n        setMovie([...resp.results]);\n      });\n    }\n  }, [query]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={handleInputChange}\n          className={css.Input}\n        />\n        <button type=\"submit\">search</button>\n      </form>\n\n      <div className={css.Container}>\n        {movie.map(item => {\n          return (\n            <Link\n              key={item.id}\n              to={`${item.id}`}\n              state={{ from: location }}\n              className={css.MoviesLink}\n            >\n              {item.title}\n            </Link>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nexport default Movies;\n"],"names":["useState","movie","setMovie","inputValue","setInputValue","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","axios","params","api_key","response","data","console","error","useEffect","getMovies","then","resp","results","onSubmit","event","preventDefault","trim","log","alert","type","value","onChange","currentTarget","className","css","map","item","to","id","state","from","title"],"sourceRoot":""}